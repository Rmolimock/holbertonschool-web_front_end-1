<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 11</title>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    </head>

    <body>

      <script type="application/javascript">

        function addPostRow(data) {
            $("body").append("<p></p>");
            $("p").last().append("Post created with id " + data['id'] + ", title: " + data['title'] + ", author: " + data['author']);
        }

        function getData() {
            $.get('http://localhost:3000/posts', (data, status) => {
            if (status === "success") {
                data.forEach(data => addPostRow(data));
              } } ).fail(() => alert('Server Error')) }

        function buildForm() {
            $("body").append("<form></form>");
            $("form").last().append("<div></div>");
            $("div").last().append("<label></label>");
            $("div").last().append("<input></input>");
            $("form").last().append("<div></div>");
            $("div").last().append("<label></label>");
            $("div").last().append("<textarea></textarea>");
            $("form").last().append("<button type="submit">Submit</button>");
        }

        $(document).ready( () => {
            getData();
        });

      </script>
    </body>

</html>
